<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Voice to Image Choice</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: linear-gradient(135deg, #89f7fe, #66a6ff);
      margin: 0;
      padding: 0;
    }
    h1 {
      margin-top: 20px;
      color: #222;
    }
    #status {
      font-size: 18px;
      margin: 10px;
      color: #333;
    }
    #images {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
    .img-btn {
      border: none;
      background: none;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .img-btn img {
      width: 150px;
      height: 150px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .img-btn:hover {
      transform: scale(1.05);
    }
    #speakBtn {
      font-size: 18px;
      padding: 12px 20px;
      margin-top: 30px;
      background: #333;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    #speakBtn:hover {
      background: #444;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ¤ Voice to Image Choice</h1>
  <div id="status">Click the button and say: Tea, Coffee, Milk, etc.</div>
  <button id="speakBtn">Start Speaking</button>

  <div id="images"></div>

  <script>
    // Keyword-to-image mapping (replace with your actual image file paths)
    const choices = {
        "tea": "images/tea.jpg",
        "coffee": "images/coffee.jpg",
        "milk": "images/milk.jpg",
        "water": "images/water.jpg",
        "apple": "images/apple.jpg",
        "banana": "images/banana.jpg",
        "rice": "images/rice.jpg",
        "bread": "images/bread.jpg",
        "dog": "images/dog.jpg",
        "cat": "images/cat.jpg",
        "elephant": "images/elephant.jpg",
        "cow": "images/cow.jpg",
        "happy": "images/happy.jpg",
        "sad": "images/sad.jpg",
        "angry": "images/angry.jpg",
        "tired": "images/tired.jpg",
        "cry": "images/cry.jpg",
        "toilet": "images/toilet.jpg",
        "brush": "images/brush.jpg",
        "bath": "images/bath.jpg",
        "school": "images/school.jpg",
        "playground": "images/playground.jpg",
        "park": "images/park.jpg",
        "book": "images/book.jpg",
        "toy": "images/toy.jpg",
        "red": "images/red.jpg",
        "blue": "images/blue.jpg",
        "green": "images/green.jpg",
        "yellow": "images/yellow.jpg"
    };

    const statusEl = document.getElementById("status");
    const imagesEl = document.getElementById("images");
    const speakBtn = document.getElementById("speakBtn");

    function showImages(keywords) {
      imagesEl.innerHTML = ""; // Clear old images
      keywords.forEach(keyword => {
        if (choices[keyword]) {
          const imgBtn = document.createElement("button");
          imgBtn.className = "img-btn";
          imgBtn.innerHTML = `<img src="${choices[keyword]}" alt="${keyword}">`;
          imgBtn.onclick = () => {
            alert("You selected: " + keyword);
          };
          imagesEl.appendChild(imgBtn);
        }
      });
    }

    function startRecognition() {
      // Browser speech recognition
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) {
        alert("Speech Recognition not supported in this browser.");
        return;
      }
      const recognition = new SpeechRecognition();
      recognition.lang = "en-US";
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;

      statusEl.textContent = "Listening... ðŸŽ¤";

      recognition.start();

      recognition.onresult = (event) => {
        const text = event.results[0][0].transcript.toLowerCase();
        statusEl.textContent = "You said: " + text;

        // Match words
        const mentioned = Object.keys(choices).filter(word => text.includes(word));
        if (mentioned.length > 0) {
          showImages(mentioned);
        } else {
          alert("No known options mentioned. Try again.");
        }
      };

      recognition.onerror = (event) => {
        statusEl.textContent = "Error: " + event.error;
      };
    }

    speakBtn.addEventListener("click", startRecognition);
  </script>
</body>
</html>
